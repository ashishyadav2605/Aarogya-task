(()=>{var e={};e.id=698,e.ids=[698],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},2668:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o});var r=t(260),i=t(8203),a=t(5155),l=t.n(a),n=t(7292),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let o=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5542)),"C:\\Users\\iashi\\OneDrive\\Desktop\\HealthX_Final\\MainFolder\\client\\app\\admin\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2909)),"C:\\Users\\iashi\\OneDrive\\Desktop\\HealthX_Final\\MainFolder\\client\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,8255)),"C:\\Users\\iashi\\OneDrive\\Desktop\\HealthX_Final\\MainFolder\\client\\app\\not-found.jsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\Users\\iashi\\OneDrive\\Desktop\\HealthX_Final\\MainFolder\\client\\app\\admin\\page.jsx"],x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},6553:(e,s,t)=>{Promise.resolve().then(t.bind(t,5542))},3001:(e,s,t)=>{Promise.resolve().then(t.bind(t,6344))},4755:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,3219,23)),Promise.resolve().then(t.t.bind(t,4863,23)),Promise.resolve().then(t.t.bind(t,5155,23)),Promise.resolve().then(t.t.bind(t,802,23)),Promise.resolve().then(t.t.bind(t,9350,23)),Promise.resolve().then(t.t.bind(t,8530,23)),Promise.resolve().then(t.t.bind(t,8921,23))},8827:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,6959,23)),Promise.resolve().then(t.t.bind(t,3875,23)),Promise.resolve().then(t.t.bind(t,8903,23)),Promise.resolve().then(t.t.bind(t,7174,23)),Promise.resolve().then(t.t.bind(t,4178,23)),Promise.resolve().then(t.t.bind(t,7190,23)),Promise.resolve().then(t.t.bind(t,1365,23))},5097:()=>{},1545:()=>{},6487:()=>{},8335:()=>{},6344:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var r=t(5512),i=t(8009),a=t(9334),l=t(8578);function n(){let[e,s]=(0,i.useState)([]),[t,n]=(0,i.useState)(!0),[d,o]=(0,i.useState)(""),[c,x]=(0,i.useState)(null),[m,h]=(0,i.useState)("original"),[u,p]=(0,i.useState)(null),g=(0,a.useRouter)(),b=(e,s)=>{navigator.clipboard.writeText(e),p(s),setTimeout(()=>p(null),2e3)},j=e=>{x(e)};return t?(0,r.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):d?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-cyan-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md max-w-md w-full text-center",children:[(0,r.jsx)("div",{className:"text-red-500 mb-4",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)("p",{className:"text-gray-700 text-lg",children:d}),(0,r.jsx)("button",{onClick:()=>g.push("/"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Return Home"})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-white shadow-sm",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsxs)("button",{onClick:()=>g.push("/"),className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",children:[(0,r.jsx)("i",{className:"ri-arrow-left-line mr-1"}),"Back to Home"]}),(0,r.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),g.push("/admin/login"),l.oR.success("Logged out successfully")},className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:[(0,r.jsx)("i",{className:"ri-logout-box-line mr-1"}),"Logout"]})]})]})})}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c?(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("button",{onClick:()=>{x(null)},className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors mr-4",children:[(0,r.jsx)("i",{className:"ri-arrow-left-line mr-1"}),"Back to Users"]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Documents for ",c.email]})}),(0,r.jsxs)("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[(0,r.jsxs)("button",{onClick:()=>h("original"),className:`px-4 py-2 text-sm font-medium rounded-l-lg border border-gray-200 ${"original"===m?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[(0,r.jsx)("i",{className:"ri-file-text-line mr-2"}),"View Original"]}),(0,r.jsxs)("button",{onClick:()=>h("json"),className:`px-4 py-2 text-sm font-medium rounded-r-lg border border-gray-200 ${"json"===m?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[(0,r.jsx)("i",{className:"ri-code-line mr-2"}),"View JSON"]})]})]}),c.documents&&c.documents.length>0?(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:c.documents.map((e,s)=>(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Document #",s+1]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Uploaded: ",new Date(e.timestamp).toLocaleString()]})]}),"json"===m&&(0,r.jsx)("button",{onClick:()=>b(JSON.stringify(e.jsonData,null,2),s),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",title:"Copy JSON",children:u===s?(0,r.jsx)("i",{className:"ri-check-line text-green-500"}):(0,r.jsx)("i",{className:"ri-file-copy-line"})})]}),"original"===m?(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)("a",{href:`https://aarogya-task.onrender.com/${e.path}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 transition-colors",children:[(0,r.jsx)("i",{className:"ri-eye-line mr-2"}),"View Document"]})}):(0,r.jsx)("div",{className:"mt-4 bg-gray-50 p-4 rounded-lg border border-gray-200 overflow-x-auto",children:(0,r.jsx)("pre",{className:"text-sm text-gray-800 font-mono",children:e.jsonData?(0,r.jsx)("code",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(e.jsonData,null,2)}):"No JSON data available"})})]},s))}):(0,r.jsxs)("div",{className:"p-8 text-center",children:[(0,r.jsx)("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)("i",{className:"ri-folder-open-line text-3xl text-gray-400"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No documents found"}),(0,r.jsx)("p",{className:"text-gray-500",children:"This user hasn't uploaded any documents yet."})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:e.length})]}),(0,r.jsx)("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600",children:(0,r.jsx)("i",{className:"ri-user-line text-2xl"})})]})}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Documents"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:e.reduce((e,s)=>e+(s.documentCount||0),0)})]}),(0,r.jsx)("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:(0,r.jsx)("i",{className:"ri-file-text-line text-2xl"})})]})}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Recent Activity"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:e.filter(e=>new Date(e.lastActivity)>new Date(Date.now()-864e5)).length}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Active in last 24h"})]}),(0,r.jsx)("div",{className:"p-3 rounded-full bg-purple-100 text-purple-600",children:(0,r.jsx)("i",{className:"ri-pulse-line text-2xl"})})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-100",children:(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Registered Users"})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-user-line text-blue-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.email}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["Joined: ",new Date(e.createdAt).toLocaleDateString()]})]})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.documentCount||0})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.lastActivity?new Date(e.lastActivity).toLocaleString():"Never"})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,r.jsx)("button",{onClick:()=>j(e),className:"text-blue-600 hover:text-blue-900 mr-4",children:"View Docs"})})]},e._id))})]})})]})]})}),(0,r.jsx)(l.N9,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})}function d(){(0,a.useRouter)();let[e,s]=(0,i.useState)(!1);return e?(0,r.jsx)(n,{}):null}t(5806)},5542:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\iashi\\\\OneDrive\\\\Desktop\\\\HealthX_Final\\\\MainFolder\\\\client\\\\app\\\\admin\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\iashi\\OneDrive\\Desktop\\HealthX_Final\\MainFolder\\client\\app\\admin\\page.jsx","default")},2909:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x,metadata:()=>c});var r=t(2740),i=t(1570),a=t.n(i),l=t(6798),n=t.n(l),d=t(5344),o=t.n(d);t(2704);let c={title:"HealthX",description:"Generated by HealthX"};function x({children:e}){return(0,r.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[(0,r.jsx)("head",{children:(0,r.jsx)("link",{href:"https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css",rel:"stylesheet"})}),(0,r.jsx)("body",{className:`${n().variable} ${o().variable} ${a().variable} antialiased`,children:e})]})}},8255:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(2740);function i(){return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen text-center px-4",children:[(0,r.jsx)("h1",{className:"text-5xl md:text-5xl font-semibold text-gray-100",children:"404"}),(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-semibold mt-6",children:"This page has not been generated"}),(0,r.jsx)("p",{className:"mt-4 text-xl md:text-2xl text-gray-500",children:"Tell me what you would like on this page"})]})}},2704:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[942,750],()=>t(2668));module.exports=r})();